<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-173987-71","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="EOSIO Testnet for LAC-Chain IADB Labs Blockchain" href="/opensearch.xml">
<script src="https://buttons.github.io/buttons.js" async></script>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
<script src="https://kit.fontawesome.com/6c84ac616f.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.9.2/min/tiny-slider.js"></script><title data-react-helmet="true">Resource Usage | EOSIO Testnet for LAC-Chain IADB Labs Blockchain</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Resource Usage | EOSIO Testnet for LAC-Chain IADB Labs Blockchain"><meta data-react-helmet="true" name="description" content="LAC-Chain doest not and will not have transaction fees. However, to limit the use of the network to its technical limits and avoid Distributed Denial of Service attacks, is necessary to establish a mechanism to require and assign resources in the network."><meta data-react-helmet="true" property="og:description" content="LAC-Chain doest not and will not have transaction fees. However, to limit the use of the network to its technical limits and avoid Distributed Denial of Service attacks, is necessary to establish a mechanism to require and assign resources in the network."><meta data-react-helmet="true" property="og:url" content="https://latamlink.io/docs/resource-usage"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://latamlink.io/docs/resource-usage"><link rel="stylesheet" href="/styles.83d4669a.css">
<link rel="preload" href="/styles.a880eb61.js" as="script">
<link rel="preload" href="/runtime~main.19e482b4.js" as="script">
<link rel="preload" href="/main.ecab138b.js" as="script">
<link rel="preload" href="/1.89e7e38f.js" as="script">
<link rel="preload" href="/2.d33cf02a.js" as="script">
<link rel="preload" href="/9e27a7ff.98936951.js" as="script">
<link rel="preload" href="/46.abebee3f.js" as="script">
<link rel="preload" href="/935f2afb.5bfd139a.js" as="script">
<link rel="preload" href="/17896441.68f838f8.js" as="script">
<link rel="preload" href="/ffab9f57.83f90680.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top navbarHideable_3046"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/latamlink_logo-h-full-color-overwhite.svg" alt="Latamlink Logo"><strong class="navbar__title"></strong></a><a class="navbar__item navbar__link" href="/search"></a></div><div class="navbar__items navbar__items--right"><a href="https://monitor.latamlink.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Monitor</a><a class="navbar__item navbar__link" href="/docs/eosio">Documentation</a><a href="https://es.latamlink.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">EspaÃ±ol</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/latamlink_logo-h-full-color-overwhite.svg" alt="Latamlink Logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://monitor.latamlink.io/" target="_blank" rel="noopener noreferrer" class="menu__link">Monitor</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/eosio">Documentation</a></li><li class="menu__list-item"><a href="https://es.latamlink.io/" target="_blank" rel="noopener noreferrer" class="menu__link">EspaÃ±ol</a></li><li class="menu__list-item"><a class="menu__link" href="/search"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC sidebarWithHideableNavbar_2IoJ"><a tabindex="-1" class="sidebarLogo_Snse" href="/"><img src="/img/latamlink_logo-h-full-color-overwhite.svg" alt="Latamlink Logo"><strong></strong></a><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Testnet</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/eosio">EOSIO Protocol</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/consensus-mechanism">Consensus Mechanism</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/network-topology">Network Topology</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/accounts-permissions">Accounts and Permissions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/traceability">Authorization and Traceability</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/resource-usage">Resource Usage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/monitoring">Network monitoring</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/performance">Security and Performance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/digital-identity">Authentication &amp; Digital ID</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/privacy">Privacy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/interoperability">Interoperability</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/roadmap">Roadmap</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/private-keys">Private Keys</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/permissioning-process">Permissioning Process</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/data-entities-nodes">Entity and Node Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/node-installation">Node Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/hello-world">Hello World Contract</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tools</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/monitor">Network monitor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api">APIs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli">Command Line</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/block-explorer">Block Explorer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/network-governance">Network Governance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sdk-libraries">EOSIO SDK Libraries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/backups">Snapshots and backups</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/boilerplates">dAPP Boilerplates</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Resources</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/other-resources">Learning Portals</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/eosio-networks">EOSIO Networks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/important-functions">Important Functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/glossary">Glossary of Terms</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Resource Usage</h1></header><div class="markdown"><p>LAC-Chain doest not and will not have transaction fees. However, to limit the use of the network to its technical limits and avoid Distributed Denial of Service attacks, is necessary to establish a mechanism to require and assign resources in the network.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="type-of-resources"></a>Type of Resources<a aria-hidden="true" tabindex="-1" class="hash-link" href="#type-of-resources" title="Direct link to heading">#</a></h2><p>The accounts will be able to use the following resources in the network:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="ram"></a>RAM<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ram" title="Direct link to heading">#</a></h3><p>In an EOSIO network, RAM is the memory storage space where the blockchain stores data, it is measured in kilobytes (KiB). If your contract needs to store data in a blockchain table, like in a database, then it can store it in the blockchain&#x27;s RAM.</p><p>RAM is a very important resource and it is a limited one. It is used when executing many actions that are available on the blockchain, when creating a new account for example the information for that account is stored in the blockchainâ€™s memory. Also when an account accepts a new type of token a new record has to be created somewhere in the blockchain memory that holds the balance of the new token accepted, and that memory, the storage space on the blockchain, has to be purchased either by the account that transfers the token or by the account that accepts the new token type.</p><p>RAM is referred to as <code>memory</code> in the following <code>cleos get account</code> output: </p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-c++ codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">memory: </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     quota:     86.68 KiB    used:     11.62 KiB  </span></div></div></div></div></div><p>You can find more details about RAM as a resource <a href="https://developers.eos.io/manuals/eosio.contracts/latest/key-concepts/ram" target="_blank" rel="noopener noreferrer">here</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="cpu"></a>CPU<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cpu" title="Direct link to heading">#</a></h3><p>CPU is processing power, the amount of CPU an account has is measured in microseconds (Î¼s), it is referred to as <code>CPU bandwidth</code> the <code>cleos get account</code> command outputs the amount of processing time an account has at its disposal when pushing actions to a contract.</p><p>You can find more details about the CPU as a resource <a href="https://developers.eos.io/manuals/eosio.contracts/latest/key-concepts/cpu" target="_blank" rel="noopener noreferrer">here</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="net"></a>NET<a aria-hidden="true" tabindex="-1" class="hash-link" href="#net" title="Direct link to heading">#</a></h3><p>As CPU and RAM, NET is also a very important resource in EOSIO-based blockchains. NET is the network bandwidth measured in bytes of transactions and it is referred to as <code>net bandwidth</code>.</p><p>You can find more details about NET as a resource <a href="https://developers.eos.io/manuals/eosio.contracts/latest/key-concepts/net" target="_blank" rel="noopener noreferrer">here</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="network-resource-limits"></a>Network Resource Limits<a aria-hidden="true" tabindex="-1" class="hash-link" href="#network-resource-limits" title="Direct link to heading">#</a></h2><p>The following values â€‹â€‹are obtained by calling <a href="https://lacchain.eosio.cr/v1/chain/get_info" target="_blank" rel="noopener noreferrer">system get_info</a> to the RPC API endpoint for latamlink.</p><div class="mdxCodeBlock_1XEh"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_3nn1">CPU limit</div><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd undefined">Copy</button><div tabindex="0" class="prism-code language-json codeBlock_3iAC codeBlockWithTitle_3QsD"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token property">&quot;block_cpu_limit&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token number" style="color:rgb(247, 140, 108)">199900</span></div></div></div></div></div><div class="mdxCodeBlock_1XEh"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_3nn1">NET limit</div><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd undefined">Copy</button><div tabindex="0" class="prism-code language-json codeBlock_3iAC codeBlockWithTitle_3QsD"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token property">&quot;block_net_limit&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token number" style="color:rgb(247, 140, 108)">1048576</span></div></div></div></div></div><div class="mdxCodeBlock_1XEh"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_3nn1">RAM limit</div><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd undefined">Copy</button><div tabindex="0" class="prism-code language-json codeBlock_3iAC codeBlockWithTitle_3QsD"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">The EOS network started with </span><span class="token number" style="color:rgb(247, 140, 108)">64</span><span class="token plain">GB ram and increased by </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain">KiB (</span><span class="token number" style="color:rgb(247, 140, 108)">1024</span><span class="token plain"> bytes) per day</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="resource-distribution"></a>Resource Distribution<a aria-hidden="true" tabindex="-1" class="hash-link" href="#resource-distribution" title="Direct link to heading">#</a></h3><p>Entities that operate writer nodes receive an equivalent portion of the network resources than other entities. In such a way that each node is assigned <code>1 / N</code> of all the resources where:</p><p><strong><code>N = Number of entities</code></strong>.</p><p> If an entity decides to operate more than one writer node, this does not affect the amount of resources it receives.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="entity-with-two-writer-nodes"></a>Entity with two writer nodes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#entity-with-two-writer-nodes" title="Direct link to heading">#</a></h4><p><code>CPU = 1/N â€¢ 200 ms</code> <code>NET = 1/N â€¢ 1048 KiB</code> <code>RAM = 10000 KiB</code></p><p><img alt="Example of Entity 1" src="/assets/images/entity1-authorities-d9d59ddf52bf6e104ddeb982214c36aa.png"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="entity-with-a-writer-node"></a>Entity with a writer node<a aria-hidden="true" tabindex="-1" class="hash-link" href="#entity-with-a-writer-node" title="Direct link to heading">#</a></h4><p><code>CPU = 1/N â€¢ 200 ms</code> <code>NET = 1/N â€¢ 1048 KiB</code> <code>RAM = 10000 KiB</code></p><p><img alt="Example of Entity 2" src="/assets/images/entity2-authorities-75baa9585dab849db31c50292783f127.png"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="entity-without-nodes"></a>Entity without nodes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#entity-without-nodes" title="Direct link to heading">#</a></h4><p><code>CPU = X txs per day</code></p><p><code>NET = X txs per day</code></p><p><code>RAM = 10000 KiB</code></p><p><img alt="Example of Entity 3" src="/assets/images/entity3-authorities-a317f63039bf9ad688c46562fc9e220a.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="users"></a>Users<a aria-hidden="true" tabindex="-1" class="hash-link" href="#users" title="Direct link to heading">#</a></h3><p>User accounts do not have resources, these are discounted from the account of the writer node when co-signing a transaction.</p><p><code>CPU = 0 us</code>
<code>NET = 0 KiB</code>
<code>RAM = 0 KiB</code></p><p><img alt="Example of User Authorities" src="/assets/images/user-authorities-9c80ca31bbb6032880ee3f4efbaf5b7e.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="account-resource-limits"></a>Account resource limits<a aria-hidden="true" tabindex="-1" class="hash-link" href="#account-resource-limits" title="Direct link to heading">#</a></h2><p>Every account on a EOSIO-based blockchain has resource limits for CPU/NET and RAM associated with it. These limits specify how much of each resource can be used by the account and they can be dynamically changed by calling the privileged API <code>set_resource_limits</code>.</p><p>The difference between CPU/NET and RAM resource limits is that RAM, since its a limited resource, once used the only way to recover it is to free the storage space used. On the other side, CPU and NET will be fully replenished when the account is not using the network for a period of time. By default this period is set to 24 hours.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="resource-billing"></a>Resource billing<a aria-hidden="true" tabindex="-1" class="hash-link" href="#resource-billing" title="Direct link to heading">#</a></h2><p>When a user (account) wants to interact with a smart-contract (another account) a transaction is created with an action in it that specifies the smart function to call together with the account (permission level) that is authorizing the action.</p><p>Then, after signing with the keys that authorize the permission level specified in the action, the transaction is broadcasted to the network until it reaches the current block-producer in the schedule.</p><p>The block-producer will execute all actions inside the transaction and bill the time used to execute them (CPU) to the first account authorizing the first action. Also, it will bill the first authorizing account for the size of the transaction (NET).</p><p>If the actions performed by the smart-contract involves any kind of data storage, the smart-contract can choose to use the RAM resources of any of the transaction authorizing accounts or use the RAM resources of the smart-contract account.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="cpu-and-net-as-elastic-resources"></a>CPU and NET as elastic resources<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cpu-and-net-as-elastic-resources" title="Direct link to heading">#</a></h2><p>The <code>resource limit manager</code> of an EOSIO-based blockchain is the part of the protocol that keeps track of the amount of available network resources at any time and how much resources each account is using.</p><p>In particular, it treats CPU and NET as elastic resources allowing users to consume more resources than what they are entitled to while this resource is below a desired usage (uncongested).</p><p>An elastic resource has the following properties.</p><ul><li>The desired usage.</li><li>The maximum usage.</li><li>The number of aggregation periods that contribute to the average usage.</li><li>The multiplier by which virtual space can oversell usage when uncongested.</li><li>The rate at which a congested resource contracts its limit.</li><li>The rate at which an uncongested resource expands its limits.</li></ul><p>Let see at the default configuration for the CPU resource as an example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-c++ codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">const static uint32_t default_max_block_cpu_usage        = 200&#x27;000; /// max block cpu usage in microseconds</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const static uint32_t default_target_block_cpu_usage_pct = 10 * percent_1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const static uint32_t block_cpu_usage_average_window_ms  = 60*1000l;</span></div></div></div></div></div><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-c++ codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">elastic_limit_parameters cpu_limit_parameters = {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    EOS_PERCENT(config::default_max_block_cpu_usage, config::default_target_block_cpu_usage_pct), //10% of 200ms</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    config::default_max_block_cpu_usage,                                                          //200ms</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    config::block_cpu_usage_average_window_ms / config::block_interval_ms,                        //60s (120 blocks)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    1000,                                                                                         //x1000 multiplier</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {99, 100},                                                                                    //contract ratio 0.99 </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {1000, 999}                                                                                   //expand ratio 1.001</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div></div></div><p>By making the CPU an elastic resource, a virtual cpu will be created that will range between the lowest possible value which is the maximun usage specified and the highest possible value which is the the lowest possible value times the multiplier.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-c++ codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">virtual cpu = [[maximum usage, maximum usage * multiplier]]</span></div></div></div></div></div><p>The virtual cpu limit will be contracted (expanded) by the <code>contract (expand) ratio</code> when the average utilization is above (below) the desired usage, meaning <em>that the most an account can consume during idle periods is 1000x (multiplier) the bandwidth it is gauranteed under congestion.</em></p><p>The average CPU utilization is computed using an EMA (Exponential Moving Average) placing a greater weight and significance on the most recent usage.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-c++ codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">def update_elastic_limit(current_limit, average_usage, elastic_resource_limit) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   result = current_limit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   if average_usage &gt; elastic_resource_limit.target:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      result = result * elastic_resource_limit.contract_rate</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   else:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      result = result * elastic_resource_limit.expand_rate</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   return min(max(result, elastic_resource_limit.max), elastic_resource_limit.max * elastic_resource_limit.max_multiplier)</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/LatamLink/latamlink.io/tree/master/docs/resource-usage.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2020-09-13T17:37:18.000Z" class="docLastUpdatedAt_217_">9/13/2020</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/traceability"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Authorization and Traceability</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/monitoring"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Network monitoring Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#type-of-resources" class="table-of-contents__link">Type of Resources</a><ul><li><a href="#ram" class="table-of-contents__link">RAM</a></li><li><a href="#cpu" class="table-of-contents__link">CPU</a></li><li><a href="#net" class="table-of-contents__link">NET</a></li></ul></li><li><a href="#network-resource-limits" class="table-of-contents__link">Network Resource Limits</a><ul><li><a href="#resource-distribution" class="table-of-contents__link">Resource Distribution</a></li><li><a href="#users" class="table-of-contents__link">Users</a></li></ul></li><li><a href="#account-resource-limits" class="table-of-contents__link">Account resource limits</a></li><li><a href="#resource-billing" class="table-of-contents__link">Resource billing</a></li><li><a href="#cpu-and-net-as-elastic-resources" class="table-of-contents__link">CPU and NET as elastic resources</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Tools</h4><ul class="footer__items"><li class="footer__item"><a href="https://monitor.latamlink.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Network Monitor</a></li><li class="footer__item"><a href="http://explorer.testnet.latamlink.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Block Explorer</a></li><li class="footer__item"><a href="https://latamlink.io/docs/api.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">APIs</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://eosio.stackexchange.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://github.com/LatamLink" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://medium.com/@latam_link" target="_blank" rel="noopener noreferrer" class="footer__link-item">Medium</a></li><li class="footer__item"><a href="https://twitter.com/LatamLink_EOS" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 LatamLink</div></div><section class="copyright"><div class="icon-container"><h2 id="poweredby">Led by</h2><a href="/" class="nav-home"><img class="footer-logo" src="/images/latamlink_logo-h-full-color-overwhite.png" alt="LatamLink Testnet"></a><a href="https://eoscostarica.io/es/" target="_blank" class="nav-home"><img class="footer-logo" src="/images/EOSCr-logo.png" alt="LatamLink Testnet"></a><a href="https://www.eosargentina.io/" target="_blank" class="nav-home"><img class="footer-logo" src="/images/eosar_logo.png" alt="LatamLink Testnet"></a><a href="https://eosvenezuela.io/" target="_blank" class="nav-home"><img class="footer-logo" src="/images/eosvenezuelalogo-122x122.png" alt="LatamLink Testnet"></a></div><br></section></div></footer></div>
<script src="/styles.a880eb61.js"></script>
<script src="/runtime~main.19e482b4.js"></script>
<script src="/main.ecab138b.js"></script>
<script src="/1.89e7e38f.js"></script>
<script src="/2.d33cf02a.js"></script>
<script src="/9e27a7ff.98936951.js"></script>
<script src="/46.abebee3f.js"></script>
<script src="/935f2afb.5bfd139a.js"></script>
<script src="/17896441.68f838f8.js"></script>
<script src="/ffab9f57.83f90680.js"></script>
</body>
</html>