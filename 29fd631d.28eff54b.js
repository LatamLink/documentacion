(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{105:function(e,t,o){"use strict";o.d(t,"a",(function(){return p})),o.d(t,"b",(function(){return h}));var n=o(0),r=o.n(n);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function c(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var b=r.a.createContext({}),s=function(e){var t=r.a.useContext(b),o=t;return e&&(o="function"==typeof e?e(t):c(c({},t),e)),o},p=function(e){var t=s(e.components);return r.a.createElement(b.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},u=r.a.forwardRef((function(e,t){var o=e.components,n=e.mdxType,a=e.originalType,i=e.parentName,b=l(e,["components","mdxType","originalType","parentName"]),p=s(o),u=n,h=p["".concat(i,".").concat(u)]||p[u]||d[u]||a;return o?r.a.createElement(h,c(c({ref:t},b),{},{components:o})):r.a.createElement(h,c({ref:t},b))}));function h(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=o.length,i=new Array(a);i[0]=u;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:n,i[1]=c;for(var b=2;b<a;b++)i[b]=o[b];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,o)}u.displayName="MDXCreateElement"},223:function(e,t,o){"use strict";o.r(t),t.default=o.p+"assets/images/topologia-nodos-2-4bf106a7e6476dd261d0642e9e8c31b6.png"},74:function(e,t,o){"use strict";o.r(t),o.d(t,"frontMatter",(function(){return i})),o.d(t,"metadata",(function(){return c})),o.d(t,"rightToc",(function(){return l})),o.d(t,"default",(function(){return s}));var n=o(2),r=o(6),a=(o(0),o(105)),i={id:"network-topology",title:"Network Topology",sidebar_label:"Network Topology"},c={unversionedId:"network-topology",id:"network-topology",isDocsHomePage:!1,title:"Network Topology",description:"We present the following proposal for LAC-Chain network configuration using EOSIO nodes.",source:"@site/docs/network-topology.md",slug:"/network-topology",permalink:"/docs/network-topology",editUrl:"https://github.com/LatamLink/latamlink.io/tree/master/docs/network-topology.md",version:"current",lastUpdatedAt:1599054775,sidebar_label:"Network Topology",sidebar:"docs",previous:{title:"Consensus Mechanism",permalink:"/docs/consensus-mechanism"},next:{title:"Accounts and Permissions",permalink:"/docs/accounts-permissions"}},l=[{value:"Design principles",id:"design-principles",children:[]},{value:"Proposed Topology",id:"proposed-topology",children:[]},{value:"Layer 1 - Core Network",id:"layer-1---core-network",children:[{value:"Validator Nodes",id:"validator-nodes",children:[]}]},{value:"Layer 2 - Bridge",id:"layer-2---bridge",children:[{value:"Boot Nodes",id:"boot-nodes",children:[]}]},{value:"Layer 3 - Satellite",id:"layer-3---satellite",children:[{value:"Writer Nodes",id:"writer-nodes",children:[]},{value:"Observer Nodes",id:"observer-nodes",children:[]}]},{value:"Architecture",id:"architecture",children:[{value:"Node Discovery",id:"node-discovery",children:[]},{value:"Node Communication",id:"node-communication",children:[]},{value:"Transactions",id:"transactions",children:[]}]},{value:"Routes optimizations / Connections",id:"routes-optimizations--connections",children:[]},{value:"Cloud Infrastructure",id:"cloud-infrastructure",children:[]}],b={rightToc:l};function s(e){var t=e.components,i=Object(r.a)(e,["components"]);return Object(a.b)("wrapper",Object(n.a)({},b,i,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"We present the following proposal for LAC-Chain network configuration using EOSIO nodes."),Object(a.b)("h2",{id:"design-principles"},"Design principles"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},Object(a.b)("strong",{parentName:"p"},"Trustless"),", the correct and optimal functioning of the network, should not be based on trust between the entities that make up the network.")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},Object(a.b)("strong",{parentName:"p"},"Horizontal scalability"),", to be able to scale the network infrastructure to satisfy the growth of its demand in a simple way.")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},Object(a.b)("strong",{parentName:"p"},"Read and write permissions")," Use a permission system to grant permissions to write (push tx) or read (consumption of APIs or blocks by P2P).")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},Object(a.b)("strong",{parentName:"p"},"MVP")," This topology can be the base of an MVP without modifications to the native EOSIO network protocol."))),Object(a.b)("h2",{id:"proposed-topology"},"Proposed Topology"),Object(a.b)("img",{src:"/img/diagrams/network-topology-en.png#center",alt:"Topologia de Red LatamLink",width:"450"}),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},Object(a.b)("strong",{parentName:"p"},"Layer 1 (",Object(a.b)("a",Object(n.a)({parentName:"strong"},{href:"/docs/network-topology#Layer-1---core-network"}),"Core"),")")," Red de validadores y nodos p2p para meshear entre ellos"),Object(a.b)("ul",{parentName:"li"},Object(a.b)("li",{parentName:"ul"},Object(a.b)("p",{parentName:"li"},Object(a.b)("strong",{parentName:"p"},"Layer 2 (",Object(a.b)("a",Object(n.a)({parentName:"strong"},{href:"/docs/network-topology#Layer-2---bridge"}),"Bridge"),")")," Distribucion p2p entre validators p2p y boots"),Object(a.b)("ul",{parentName:"li"},Object(a.b)("li",{parentName:"ul"},Object(a.b)("strong",{parentName:"li"},"Layer 3 (",Object(a.b)("a",Object(n.a)({parentName:"strong"},{href:"/docs/network-topology#layer-3---satellite"}),"Satellite"),")")," Layer de consumo para writers y observers")))))),Object(a.b)("p",null,Object(a.b)("img",{alt:"LatamLink Topology",src:o(223).default})),Object(a.b)("h2",{id:"layer-1---core-network"},"Layer 1 - Core Network"),Object(a.b)("p",null,"The core network is composed of the blocks producers who have been added to the consensus protocol group. The final computational power source is derived from the network core."),Object(a.b)("h3",{id:"validator-nodes"},"Validator Nodes"),Object(a.b)("p",null,"In an EOSIO network these nodes are called block producers, they are in charge of generating blocks every 500ms. These nodes should only be connected to other nodes managed by the same entity."),Object(a.b)("h4",{id:"validator-p2p-for-other-validators"},"Validator p2p for other Validators"),Object(a.b)("p",null,"P2P node configured as part of the internal network of the validators."),Object(a.b)("h2",{id:"layer-2---bridge"},"Layer 2 - Bridge"),Object(a.b)("h4",{id:"validator-p2p-out"},"Validator p2p out"),Object(a.b)("p",null,"Node configured to only broadcast blocks over p2p connections, allowed p2p out observers connect to this node."),Object(a.b)("h4",{id:"validator-p2p-bidir"},"Validator p2p bidir"),Object(a.b)("p",null,"Node configured to accept p2p transactions from allowed nodes and send it to the validator."),Object(a.b)("h3",{id:"boot-nodes"},"Boot Nodes"),Object(a.b)("h4",{id:"boot-p2p-out"},"Boot p2p out"),Object(a.b)("p",null,"Node configured to accept blocks from p2p validators and only forward them to p2p and api observers, does not accept transactions."),Object(a.b)("h4",{id:"boot-p2p-bidir"},"Boot p2p bidir"),Object(a.b)("p",null,"P2p node configured to update writer nodes with new blocks and in turn accept txs to send to validators"),Object(a.b)("h2",{id:"layer-3---satellite"},"Layer 3 - Satellite"),Object(a.b)("h3",{id:"writer-nodes"},"Writer Nodes"),Object(a.b)("h4",{id:"writer-p2p"},"Writer p2p"),Object(a.b)("p",null,"Accepts transactions through p2p and sends them to layer 1 through a ",Object(a.b)("inlineCode",{parentName:"p"},"boot-p2p-bidir"),"."),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"for example: A wallet manages its own API and connects to the network through a p2p writer.")),Object(a.b)("h4",{id:"writer-api"},"Writer API"),Object(a.b)("p",null,"Accept http transaction push requests and send them to layer 1 through a ",Object(a.b)("inlineCode",{parentName:"p"},"boot-p2p-bidir")),Object(a.b)("h3",{id:"observer-nodes"},"Observer Nodes"),Object(a.b)("h4",{id:"observer-nodes-p2p"},"Observer nodes p2p"),Object(a.b)("p",null,"An observer node p2p is a node that is consuming layer 1 information through a ",Object(a.b)("inlineCode",{parentName:"p"},"boot-p2p-out"),", it can only read the state of the blockchain."),Object(a.b)("h4",{id:"observer-nodes-api"},"Observer nodes API"),Object(a.b)("p",null,"Node that allows requesting information from the blockchain through an http request, the use of dfuse is recommended."),Object(a.b)("h2",{id:"architecture"},"Architecture"),Object(a.b)("h3",{id:"node-discovery"},"Node Discovery"),Object(a.b)("p",null,"Node Discovery Cycle"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"The entity configures a new node"),Object(a.b)("li",{parentName:"ol"},"The entity registers a new node with the committee including in its information, node type (",Object(a.b)("inlineCode",{parentName:"li"},"observer-api"),",",Object(a.b)("inlineCode",{parentName:"li"}," writer-p2p"),", ",Object(a.b)("inlineCode",{parentName:"li"},"boot-p2p-bidir"),", etc.) along with its public key for peering"),Object(a.b)("li",{parentName:"ol"},"The committee updates the node table in the smart contract with the node information to add this information"),Object(a.b)("li",{parentName:"ol"},"Nodes in the network that need it update their list of allowed pairs to add the new node to the nodes that are needed."),Object(a.b)("li",{parentName:"ol"},"The new node confirms that it is connected to the network.")),Object(a.b)("h4",{id:"nodes-groups-and-sub-groups"},"Nodes Groups and Sub-Groups"),Object(a.b)("table",null,Object(a.b)("thead",{parentName:"table"},Object(a.b)("tr",{parentName:"thead"},Object(a.b)("th",Object(n.a)({parentName:"tr"},{align:null}),Object(a.b)("strong",{parentName:"th"},"Writer Nodes")),Object(a.b)("th",Object(n.a)({parentName:"tr"},{align:null}),Object(a.b)("strong",{parentName:"th"},"Boot Nodes")),Object(a.b)("th",Object(n.a)({parentName:"tr"},{align:null}),Object(a.b)("strong",{parentName:"th"},"Observer Nodes")),Object(a.b)("th",Object(n.a)({parentName:"tr"},{align:null}),Object(a.b)("strong",{parentName:"th"},"Validator Nodes")))),Object(a.b)("tbody",{parentName:"table"},Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Group 1....n"),Object(a.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Group 1....n"),Object(a.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Group 1...n"),Object(a.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Active and Stand-By")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"groups of up to 40 nodos"),Object(a.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"groups of up to 40 nodos"),Object(a.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"groups of up to 10 nodos"),Object(a.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"active defined in schedule")))),Object(a.b)("p",null,"Boot and validator nodes that do not meet the required configuration can be removed by the permissioning committee."),Object(a.b)("h3",{id:"node-communication"},"Node Communication"),Object(a.b)("p",null,"For more information on how communication works between nodes in EOSIO networks, check out the ",Object(a.b)("a",Object(n.a)({parentName:"p"},{href:"https://developers.eos.io/welcome/latest/protocol/network_peer_protocol"}),"Developers Portal")),Object(a.b)("h3",{id:"transactions"},"Transactions"),Object(a.b)("p",null,"The cycle of a transaction is:"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},Object(a.b)("p",{parentName:"li"},"A client sends a transaction signed by https or by p2p to a writer node, either api or p2p.")),Object(a.b)("li",{parentName:"ol"},Object(a.b)("p",{parentName:"li"},"The writer verifies the transaction")),Object(a.b)("li",{parentName:"ol"},Object(a.b)("p",{parentName:"li"},"The writer broadcasted the transaction to the ",Object(a.b)("inlineCode",{parentName:"p"},"boot-p2p-bidir")," nodes")),Object(a.b)("li",{parentName:"ol"},Object(a.b)("p",{parentName:"li"},"the ",Object(a.b)("inlineCode",{parentName:"p"},"boot-p2p-bidir"),", broadcasted the transaction to layer 1 (core)")),Object(a.b)("li",{parentName:"ol"},Object(a.b)("p",{parentName:"li"},"The validator that is in schedule verifies the transaction and executes it.")),Object(a.b)("li",{parentName:"ol"},Object(a.b)("p",{parentName:"li"},"The validator broadcastes the new block to layer 1 and layer 2")),Object(a.b)("li",{parentName:"ol"},Object(a.b)("p",{parentName:"li"},"Layer 2 Boot Verify the New Block and Broadcast it to Layer 3"))),Object(a.b)("h2",{id:"routes-optimizations--connections"},"Routes optimizations / Connections"),Object(a.b)("p",null,"The goal is to manage the network topology in a dynamic way using Smart Contracts."),Object(a.b)("p",null,"In the ",Object(a.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/lacchain/besu-network/blob/master/TOPOLOGY_AND_ARCHITECTURE.md"}),"current BESU LAC-Chain topology"),', the "boot" nodes can be connected to all nodes in the network (boot, validator and writer). At present, all "boot" nodes are connected to all nodes. This is not scalable and efficient. Alongside, the nodes are not restricted by the network to connect only to correspondent nodes (in other words, a writer with the boot, or validator with validator and boot), nor do they have the information about what kind of node each of them is. We need proportionalities to that information out of the chain.'),Object(a.b)("h2",{id:"cloud-infrastructure"},"Cloud Infrastructure"),Object(a.b)("p",null,"LAC-Chain is interested in using automatic implementations in several clouds using tools like terraform."),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Take advantage of the tools in the cloud to improve the Layerbilities in the network."),Object(a.b)("li",{parentName:"ul"},"Explore the use of the key vaults in the cloud."),Object(a.b)("li",{parentName:"ul"},"Work with partners to open up cloud services in LAC-Chain on a SAAS basis.")))}s.isMDXComponent=!0}}]);